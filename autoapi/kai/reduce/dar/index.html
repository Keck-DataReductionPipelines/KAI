<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>kai.reduce.dar &mdash; KAI  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="kai.reduce.data" href="../data/index.html" />
    <link rel="prev" title="kai.reduce.correct_ipc" href="../correct_ipc/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            KAI
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kai</span></code></a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../extern/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kai.extern</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../mtf/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kai.mtf</span></code></a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kai.reduce</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tests/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kai.tests</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kai.utils</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../test_drizzle/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">test_drizzle</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">KAI</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kai</span></code></a></li>
          <li class="breadcrumb-item"><a href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kai.reduce</span></code></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kai.reduce.dar</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/autoapi/kai/reduce/dar/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-kai.reduce.dar">
<span id="kai-reduce-dar"></span><h1><a class="reference internal" href="#module-kai.reduce.dar" title="kai.reduce.dar"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kai.reduce.dar</span></code></a><a class="headerlink" href="#module-kai.reduce.dar" title="Link to this heading"></a></h1>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading"></a></h2>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#kai.reduce.dar.get_atm_conditions" title="kai.reduce.dar.get_atm_conditions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_atm_conditions</span></code></a>(year)</p></td>
<td><p>Retrieve atmospheric conditions from CFHT archive website,</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#kai.reduce.dar.keckDARcoeffs" title="kai.reduce.dar.keckDARcoeffs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">keckDARcoeffs</span></code></a>(lamda, year, month, day, hour, minute)</p></td>
<td><p>Calculate the differential atmospheric refraction</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#kai.reduce.dar.download_koa_dat_files" title="kai.reduce.dar.download_koa_dat_files"><code class="xref py py-obj docutils literal notranslate"><span class="pre">download_koa_dat_files</span></code></a>(date_str, telescope_str, param_name)</p></td>
<td><p>Download the KOA atmospheric condition file for given date and</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#kai.reduce.dar.keckDARcoeffs_koa" title="kai.reduce.dar.keckDARcoeffs_koa"><code class="xref py py-obj docutils literal notranslate"><span class="pre">keckDARcoeffs_koa</span></code></a>(lamda, year, month, day, hour, ...)</p></td>
<td><p>Calculate the differential atmospheric refraction</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#kai.reduce.dar.kaidar" title="kai.reduce.dar.kaidar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kaidar</span></code></a>(fitsFile[, instrument, use_koa_weather])</p></td>
<td><p>Use the FITS header to extract date, time, wavelength,</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#kai.reduce.dar.darPlusDistortion" title="kai.reduce.dar.darPlusDistortion"><code class="xref py py-obj docutils literal notranslate"><span class="pre">darPlusDistortion</span></code></a>(inputFits, outputRoot[, xgeoim, ...])</p></td>
<td><p>Create lookup tables (stored as FITS files) that can be used</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#kai.reduce.dar.applyDAR" title="kai.reduce.dar.applyDAR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">applyDAR</span></code></a>(inputFits, spaceStarlist[, plot, instrument, ...])</p></td>
<td><p>inputFits: (str) name of fits file associated with this starlist</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#kai.reduce.dar.removeDAR" title="kai.reduce.dar.removeDAR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">removeDAR</span></code></a>(inputFits, groundStarlist[, plot, ...])</p></td>
<td><p>inputFits: (str) name of fits file associated with this starlist</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#kai.reduce.dar.splitAtmosphereCFHT" title="kai.reduce.dar.splitAtmosphereCFHT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">splitAtmosphereCFHT</span></code></a>(year)</p></td>
<td><p>Take an original archive file containing atmospheric parameters and</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#kai.reduce.dar.test_darPlusDistortion" title="kai.reduce.dar.test_darPlusDistortion"><code class="xref py py-obj docutils literal notranslate"><span class="pre">test_darPlusDistortion</span></code></a>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Link to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#kai.reduce.dar.p2" title="kai.reduce.dar.p2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">p2</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#kai.reduce.dar.module_dir" title="kai.reduce.dar.module_dir"><code class="xref py py-obj docutils literal notranslate"><span class="pre">module_dir</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt class="sig sig-object py" id="kai.reduce.dar.p2">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">p2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#p2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.p2" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="kai.reduce.dar.module_dir">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">module_dir</span></span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#module_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.module_dir" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kai.reduce.dar.get_atm_conditions">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">get_atm_conditions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#get_atm_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.get_atm_conditions" title="Link to this definition"></a></dt>
<dd><p>Retrieve atmospheric conditions from CFHT archive website,
then calls dar.splitAtmosphereCFHT() to separate the data
by months.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kai.reduce.dar.keckDARcoeffs">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">keckDARcoeffs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lamda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hour</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minute</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#keckDARcoeffs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.keckDARcoeffs" title="Link to this definition"></a></dt>
<dd><p>Calculate the differential atmospheric refraction
for two objects observed at Keck.</p>
<p>Input:
lamda – Effective wavelength (microns) assumed to be the same for both
year, month, day, hour, minute of observation (HST)</p>
<p>Output:
refA
refB</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kai.reduce.dar.download_koa_dat_files">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">download_koa_dat_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">telescope_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#download_koa_dat_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.download_koa_dat_files" title="Link to this definition"></a></dt>
<dd><p>Download the KOA atmospheric condition file for given date and
specified parameter, and save at the download location</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>date_str</strong><span class="classifier">str</span></dt><dd><p>Date string for the night (e.g.: ‘20220525’).</p>
</dd>
<dt><strong>telescope_str</strong><span class="classifier">str</span></dt><dd><p>String to specify which Keck telescope’s weather data to download.
Can be ‘k1’ or ‘k2’.</p>
</dd>
<dt><strong>param_name</strong><span class="classifier">str</span></dt><dd><p>Name of the parameter to download the conditions table
(e.g.: ‘OutsideTemp’)</p>
</dd>
<dt><strong>download_loc</strong><span class="classifier">str, default = ‘./’</span></dt><dd><p>Directory to store the downloaded atmospheric condition table file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kai.reduce.dar.keckDARcoeffs_koa">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">keckDARcoeffs_koa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lamda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hour</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minute</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrument</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">instruments.default_inst</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#keckDARcoeffs_koa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.keckDARcoeffs_koa" title="Link to this definition"></a></dt>
<dd><p>Calculate the differential atmospheric refraction
for two objects observed at Keck, using atmospheric conditions obtained
via the KOA.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>lamda</strong><span class="classifier">float</span></dt><dd><p>Effective wavelength (microns), assumed to be the same for both.</p>
</dd>
<dt><strong>year</strong><span class="classifier">int</span></dt><dd><p>UTC year</p>
</dd>
<dt><strong>month</strong><span class="classifier">int</span></dt><dd><p>UTC month</p>
</dd>
<dt><strong>day</strong><span class="classifier">int</span></dt><dd><p>UTC date</p>
</dd>
<dt><strong>hour</strong><span class="classifier">int</span></dt><dd><p>UTC hour</p>
</dd>
<dt><strong>minute</strong><span class="classifier">int</span></dt><dd><p>UTC minute</p>
</dd>
<dt><strong>second</strong><span class="classifier">int, float</span></dt><dd><p>UTC second</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>refA</strong><span class="classifier">float</span></dt><dd></dd>
<dt><strong>refB</strong><span class="classifier">float</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kai.reduce.dar.kaidar">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">kaidar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitsFile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrument</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">instruments.default_inst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_koa_weather</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#kaidar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.kaidar" title="Link to this definition"></a></dt>
<dd><p>Use the FITS header to extract date, time, wavelength,
elevation, and image orientation information. This is everything
that is necessary to calculate the differential atmospheric
refraction. The differential atmospheric refraction
is applicable only along the zenith direction of an image.
This code calculates the predicted DAR using archived CFHT
atmospheric data and the elevation and wavelength of the observations.
Then the DAR correction is transformed into image coefficients that
can be applied in image coordinates.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kai.reduce.dar.darPlusDistortion">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">darPlusDistortion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputFits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputRoot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xgeoim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ygeoim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrument</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">instruments.default_inst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_koa_weather</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#darPlusDistortion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.darPlusDistortion" title="Link to this definition"></a></dt>
<dd><p>Create lookup tables (stored as FITS files) that can be used
to correct DAR. Optionally, the shifts due to DAR can be added
to existing NIRC2 distortion lookup tables if the xgeoim/ygeoim
input parameters are set.</p>
<p>Inputs:
inputFits - a NIRC2 image for which to determine the DAR correction
outputRoot - the root name for the output. This will be used as the</p>
<blockquote>
<div><p>root name of two new images with names, &lt;outputRoot&gt;_x.fits and
&lt;outputRoot&gt;_y.fits.</p>
</div></blockquote>
<p>Optional Inputs:
xgeoim/ygeoim - FITS images used in Drizzle distortion correction</p>
<blockquote>
<div><p>(lookup tables) will be modified to incorporate the DAR correction.
The order of the correction is 1. distortion, 2. DAR.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kai.reduce.dar.applyDAR">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">applyDAR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputFits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spaceStarlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrument</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">instruments.default_inst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#applyDAR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.applyDAR" title="Link to this definition"></a></dt>
<dd><p>inputFits: (str) name of fits file associated with this starlist</p>
<p>spaceStarlist: (astropy table) must include columns ‘x0’ and ‘y0’.</p>
<p>Input a starlist in x=RA (+x = west) and y=Dec (arcseconds) taken from
space and introduce differential atmospheric refraction (DAR). The amount
of DAR that is applied depends on the header information in the input fits
file. The resulting output starlist should contain what was observed
after the starlight passed through the atmosphere, but before the
starlight passed through the telescope. Only achromatic DAR is
applied in this code.</p>
<p>returns spaceStarlist with updated ‘x0’ and ‘y0’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kai.reduce.dar.removeDAR">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">removeDAR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputFits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groundStarlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrument</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">instruments.default_inst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#removeDAR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.removeDAR" title="Link to this definition"></a></dt>
<dd><p>inputFits: (str) name of fits file associated with this starlist</p>
<p>groundStarlist: (astropy table) must include columns ‘x’ and ‘y’.</p>
<p>The inverse of applyDAR(). Takes a starlist in x and y pixels taken from
the ground and removes differential atmospheric refraction (DAR). The amount
of DAR that is applied depends on the header information in the input fits
file. The resulting output starlist should contain what would be observed above the atmosphere.
Distortion should be applied before this function. Only achromatic DAR is
applied in this code.</p>
<p>returns groundStarlist with updated ‘x0’ and ‘y0’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kai.reduce.dar.splitAtmosphereCFHT">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">splitAtmosphereCFHT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#splitAtmosphereCFHT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.splitAtmosphereCFHT" title="Link to this definition"></a></dt>
<dd><p>Take an original archive file containing atmospheric parameters and
split it up into seperate files for individual months. This makes
later calls to calculate DAR parameters MUCH faster.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="kai.reduce.dar.test_darPlusDistortion">
<span class="sig-prename descclassname"><span class="pre">kai.reduce.dar.</span></span><span class="sig-name descname"><span class="pre">test_darPlusDistortion</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/kai/reduce/dar.html#test_darPlusDistortion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kai.reduce.dar.test_darPlusDistortion" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../correct_ipc/index.html" class="btn btn-neutral float-left" title="kai.reduce.correct_ipc" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../data/index.html" class="btn btn-neutral float-right" title="kai.reduce.data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, J. R. Lu, A. K. Gautam, T. Do.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>