kai.reduce.analysis
===================

.. py:module:: kai.reduce.analysis


Classes
-------

.. autoapisummary::

   kai.reduce.analysis.Analysis


Functions
---------

.. autoapisummary::

   kai.reduce.analysis.idl_process_run
   kai.reduce.analysis.plotPosError


Module Contents
---------------

.. py:function:: idl_process_run(batch_file)

   
   Function to help run parallel processes for IDL, used for StarFinder


   :Parameters:

       **batch_file** : str
           Path of the bath file containing the IDL command to run














   ..
       !! processed by numpydoc !!

.. py:class:: Analysis(epoch, rootDir='/g/lu/data/orion/', filt='kp', clean_dir=None, combo_dir=None, combo_stf_dir=None, epochDirSuffix=None, imgSuffix=None, stfDir=None, useDistorted=False, cleanList='c.lis', airopa_mode='single', stf_version=None, stf_debug=False, stf_parallelize=True, instrument=instruments.default_inst)

   Bases: :py:obj:`object`


   
   Object that will perform our standard post-data-reduction analysis.
   This includes running starfinder, calibrating, and extracting positional
   and photometric errors via align_rms. 
















   ..
       !! processed by numpydoc !!

   .. py:attribute:: type
      :value: 'ao'



   .. py:attribute:: corrMain
      :value: [0.8]



   .. py:attribute:: corrSub
      :value: [0.6]



   .. py:attribute:: corrClean
      :value: [0.7]



   .. py:attribute:: airopa_mode
      :value: 'single'



   .. py:attribute:: trimfake
      :value: 1



   .. py:attribute:: stfFlags
      :value: ''



   .. py:attribute:: stf_debug
      :value: False



   .. py:attribute:: stf_parallelize
      :value: True



   .. py:attribute:: starlist
      :value: '/g/lu/data/orion/source_list/psf_central.dat'



   .. py:attribute:: labellist
      :value: '/g/lu/data/orion/source_list/label.dat'



   .. py:attribute:: labellist_accel
      :value: True



   .. py:attribute:: orbitlist
      :value: '/g/lu/data/orion/source_list/orbits.dat'



   .. py:attribute:: calFile
      :value: '/g/lu/data/orion/source_list/photo_calib.dat'



   .. py:attribute:: instrument


   .. py:attribute:: calStars
      :value: ['S3-22', 'S2-22', 'S4-3', 'S1-34', 'S1-1', 'S1-21', 'S3-370', 'S3-88', 'S2-75', 'S3-51', 'S3-348']



   .. py:attribute:: calFlags
      :value: '-f 1 -R '



   .. py:attribute:: mapFilter2Cal


   .. py:attribute:: calCooStar
      :value: 'irs16C'



   .. py:attribute:: cooStar
      :value: 'irs16C'



   .. py:attribute:: deblend
      :value: None



   .. py:attribute:: alignFlags
      :value: '-R 3 -p -a 0'



   .. py:attribute:: numSubMaps
      :value: 3



   .. py:attribute:: minSubMaps
      :value: 3



   .. py:attribute:: epoch


   .. py:attribute:: rootDir
      :value: '/g/lu/data/orion/'



   .. py:attribute:: filt
      :value: 'kp'



   .. py:attribute:: dirEpoch


   .. py:attribute:: dirClean


   .. py:attribute:: dirCleanAln


   .. py:attribute:: dirCombo


   .. py:attribute:: dirComboAln


   .. py:attribute:: cleanList
      :value: 'c.lis'



   .. py:attribute:: cleanFiles
      :value: []



   .. py:attribute:: dirStart


   .. py:attribute:: plotPosMagCut
      :value: 15.0



   .. py:method:: prepStarfinder(targetName, targetCoords, psfStars, filterName)

      
      Creates a _psf.list file and saves it in the source_list/ directory.
















      ..
          !! processed by numpydoc !!


   .. py:method:: analyzeCombo()


   .. py:method:: analyzeClean()


   .. py:method:: analyzeComboClean()


   .. py:method:: starfinderCombo(oldPsf=False)


   .. py:method:: starfinderClean()


   .. py:method:: starfinderCleanLoop()


   .. py:method:: calibrateCombo()


   .. py:method:: calibrateClean()


   .. py:method:: alignCombo()


   .. py:method:: alignClean()


.. py:function:: plotPosError(starlist, raw=False, suffix='', radius=4, magCutOff=15.0, title=True)

   
   Make three standard figures that show the data quality 
   from  a *_rms.lis file. 

   1. astrometric error as a function of magnitude.
   2. photometric error as a function of magnitude.
   3. histogram of number of stars vs. magnitude.

   Use raw=True to plot the individual stars in plots 1 and 2.















   ..
       !! processed by numpydoc !!

